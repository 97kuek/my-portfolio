---
title: XROTORのAEROSECTION設定
description: 'AEROSECTIONのパラメータ設定方法'
pubDate: '2025-12-17'
tags: ['設計', '人力飛行機', '技術解説', 'XROTOR']
---

こんにちは。私は人力飛行機製作サークル「WASA」で、翼班として主翼・尾翼の製作を担当しています。

普段は製作がメインですが、最近プロペラ設計のお手伝いをする機会がありました。私たちのチームではプロペラ設計に**XROTOR**というソフトウェアを活用していますが、その中の「**AEROSECTION**（翼型セクション）」のパラメータ設定をより効率化できないかと考え、自動計算プログラムを開発しました。

本記事では、開発したプログラムの紹介とともに、その理論的背景について詳しく解説します。なお、ソースコードは以下のリポジトリに公開しています。

[ソースコード](https://github.com/97kuek/xflr5-to-xrotor-converter)

![プロペラ](../../assets/propeller.jpg)
*25年度鳥人間コンテストのプロペラの写真，かっこいい！*

### 目次

1. [XROTORとは](#xrotorとは)
2. [AEROSECTIONのパラメータ設定方法](#aerosectionのパラメータ設定方法)

### XROTORとは

XROTOR は，マサチューセッツ工科大学（MIT）の Mark Drela 教授によって開発された，**プロペラおよび風車の設計・解析に特化したソフトウェア**です．

鳥人間コンテスト（HPA）界隈では，主翼解析の定番である XFLR5 や XFOIL と並んで、設計の要となるツールとして広く知られています． 特に人力飛行機が飛行する「低レイノルズ数」領域において非常に強力な威力を発揮し、エネルギー損失を最小化（誘導損失と形状抗力の最適化）した理想的な形状を理論的に導き出すことが可能です．

### AEROSECTIONについて

一言でいうと「プロペラの断面が，どのような空気力学的特性を持っているかを定義する設定」のことです．HPAのプロペラは，回転の中心に近い部分と先端部分でレイノルズ数が大きく異なるため，それぞれ異なるAEROSECTIONを設定する必要があります．

AEROSECTIONで設定しなければならない項目は，以下の13項目です．
1. $\alpha_{C_L}=0$ : 揚力曲線における$C_L=0$となる角度
2. $\frac{dC_L}{d\alpha}$ : 線形区間の揚力曲線の傾き
3. $\frac{dC_L}{d\alpha}@stall$ : 失速手前の揚力曲線の傾き
4. $C_{L,max}$ : 最大揚力係数
5. $C_{L,min}$ : 最小揚力係数
6. $C_L$ increment to stall : 使う$C_L$の値から失速手前までの$C_L$増加量
7. $C_{D,min}$ : 最小抗力係数
8. $\frac{dC_D}{d{C_L}^2}$ : 抗力曲線の広がり具合
9. $C_L$ at Minimum $C_D$ : 最小抗力係数を達成する$C_L$の値
10. Reference Re number : 解析をかけたレイノルズ数の値
11. Re scalling exponent : 後述
12. $C_m$ : 使う迎角での$C_m$の値
13. $M_{crit}$ : 臨界マッハ数

### 1. データのフィルタリング
XFLR5で解析したデータには，線形領域(安定した揚力発生)と非線形領域(失速への移行)が混在しています．高精度な近似を行うため，まずはドラッグ・ポーラーの局所的な傾き$s_i$を用いてデータをフィルタリングします．

**区間差分による傾きの算出**
隣接するデータ点$(C_{L,i},C_{D,i})$間の傾きを算出します．

$$
s_i=\frac{C_{D,i+1}-C_{D,i}}{C_{L,i+1}-C_{L,i}}
$$

ほぼ線形な部分のみを抽出するので，$s_i<0.05$を満たす点列をフィルタします．
しきい値0.05は，低レイノルズ数揚抗比特性に基づいた経験則で求めた値です．

### ドラッグ・ポーラーの放物線近似(2次多項式フィッティング)
XROTORは，$C_L$ - $C_D$グラフを二次関数として近似して計算します．

$$
C_D = C_{D,min}+k{(C_L-C_{L,opt})}^2
$$

ここで$C_{D,min}$は最小抗力係数，$C_{L,opt}$は最小抗力係数を達成する$C_L$の値，$k$はグラフの広がり具合を表す係数です．具体的には，$\frac{dC_D}{d{C_L}^2}=2k$となります．
この式からわかる通り，$C_L$に関する2次の多項式で近似できることがわかるはずです．そこで，$C_L$ - $C_D$グラフを最小二乗法でフィットさせます．近似式は以下の通りです．

$$
C_D \approx \alpha {C_L}^2 + \beta {C_L} + \gamma
$$

**導出される主要パラメータ**

### 3. 揚力曲線の線形近似：揚力傾斜と零揚力角
揚力傾斜の抽出には，最も流れが安定している**最小抗力点付近**のデータを使用します．

**揚力傾斜$\alpha_0$の推定**

**零揚力角$\alpha_{C_L}=0$の推定**


### 4. 高迎角・失速域のモデル化
翼型が失速に入った後の特性もXROTORには必要です．

**失速域の揚力傾斜**
最大揚力係数$C_{L,max}$から解析終了点$C_{L,end}$までの平均的な傾きを，失速後の挙動として定義します．

**コンテンツセレクションからの自動抽出**



### 補足：環境・物理パラメータ
- **Reference Re number** : 解析をかけたレイノルズ数の値
- **Re scalling exponent** : レイノルズ数のスケーリング指数
- **$M_{crit}$** : 臨界マッハ数

### まとめ
本アルゴリズムにより，以下の3つの主要モデルが統合されました．

これまで設計者の主観に頼っていたXROTORへのパラメータ入力をPythonを用いた方法によって自動化されました．